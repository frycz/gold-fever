(this["webpackJsonpreact-experiments"]=this["webpackJsonpreact-experiments"]||[]).push([[0],{22:function(e,n,t){},39:function(e,n,t){},41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var r,i=t(3),c=t.n(i),a=t(17),s=t.n(a),l=(t(22),t(16)),o=t(7),u=t(1),d=t(15),y=t.n(d),f=(t(39),t(0)),m=function(e){var n=e.width,t=e.height,r=e.playerX,i=e.playerY,c=e.items,a=e.enemies;return Object(f.jsx)("div",{className:"grid",children:Array(t).fill(null).map((function(e,t){return Object(f.jsx)("div",{style:{display:"flex"},children:Array(n).fill(null).map((function(e,n){return Object(f.jsxs)("div",{className:"grid-field",children:[r===n&&i===t?Object(f.jsx)("div",{className:"player-field"}):null,c.find((function(e){return e.x===n&&e.y===t}))?Object(f.jsx)("div",{className:"item-field"}):null,a.find((function(e){return e.x===n&&e.y===t}))?Object(f.jsx)("div",{className:"enemy-field"}):null]},"".concat(n,"-").concat(t))}))},t)}))})},j=(t(41),new y.a.AStarFinder),p={points:0,player:{x:0,y:0},items:[{x:2,y:7},{x:8,y:5},{x:4,y:5},{x:6,y:3}],enemies:[{x:9,y:9}]},x=function(){return p},h=function(e,n,t){var r=e.items.findIndex((function(e){return e.x===n.x&&e.y===n.y}));return Object(u.a)(Object(u.a)({},e),-1!==r?Object(u.a)(Object(u.a)({},t(e)),{},{items:-1!==r?[].concat(Object(o.a)(e.items.slice(0,r)),[{x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random())}],Object(o.a)(e.items.slice(r+1,e.items.length))):e.items}):{})},b=(r={gridWidth:10,gridHeight:10},function(e,n,t){return t.reduce((function(e,t){return t(e,n,r)}),e)}),O=function(e,n,t){return function(e,n,t){var r=e.player.x,i=e.player.y;return"up"===n&&(r=e.player.x,i=e.player.y>0?e.player.y-1:e.player.y),"down"===n&&(r=e.player.x,i=e.player.y<t.gridHeight-1?e.player.y+1:e.player.y),"left"===n&&(r=e.player.x>0?e.player.x-1:e.player.x,i=e.player.y),"right"===n&&(r=e.player.x<t.gridWidth-1?e.player.x+1:e.player.x,i=e.player.y),Object(u.a)(Object(u.a)({},e),{},{player:{x:r,y:i}})}(e,n,t)},v=function(e,n,t){return b(e,n,e.enemies.map((function(e,n){return function(e,t,r){return w(e,n,j)}})))},g=function(e,n,t){return b(e,n,[function(e,n,t){return h(e,e.player,(function(e){return Object(u.a)(Object(u.a)({},e),{},{points:e.points+1})}))},function(e,n,t){return b(e,n,e.enemies.map((function(e,n){return function(n,t,r){return h(n,e,(function(e){return Object(u.a)(Object(u.a)({},e),{},{points:e.points-1})}))}})))}])},w=function(e,n,t){var r=Object(u.a)({},e.enemies[n]),i=new y.a.Grid(10,10);i.setWalkableAt(e.player.x,e.player.y,!1),e.enemies.forEach((function(t,r){r!==n&&i.setWalkableAt(e.enemies[r].x,e.enemies[r].y,!1)}));var c=e.items.map((function(e){return t.findPath(r.x,r.y,e.x,e.y,i.clone())})).filter((function(e){return e.length})).sort((function(e,n){return e.length-n.length})),a=c[0][1]?c[0][1]:[r.x,r.y],s=Object(l.a)(a,2),d=s[0],f=s[1];return r.x=d<=9&&d>=0?d:r.x,r.y=f<=9&&f>=0?f:r.y,Object(u.a)(Object(u.a)({},e),{},{enemies:[].concat(Object(o.a)(e.enemies.slice(0,n)),[r],Object(o.a)(e.enemies.slice(n+1,e.enemies.length)))})},N=function(e,n){return b(e,n,[O,v,g])};var k=function(){var e=c.a.useReducer(N,p,x),n=Object(l.a)(e,2),t=n[0],r=n[1],i=function(e){"ArrowUp"===e.key&&r("up"),"ArrowDown"===e.key&&r("down"),"ArrowLeft"===e.key&&r("left"),"ArrowRight"===e.key&&r("right")};return c.a.useEffect((function(){return window.addEventListener("keydown",i),function(){return window.removeEventListener("keydown",i)}}),[]),Object(f.jsx)("div",{className:"grid-wrapper",children:Object(f.jsxs)("div",{className:"grid-container",children:[Object(f.jsxs)("div",{className:"side",children:[Object(f.jsx)("div",{className:"game-title",children:"Gold Fever"}),Object(f.jsx)("div",{className:"game-description",children:"Collect all the gold"}),Object(f.jsx)("div",{className:"game-instruction",children:"Use arrow keys to move"})]}),Object(f.jsx)(m,{width:10,height:10,playerX:t.player.x,playerY:t.player.y,items:t.items,enemies:t.enemies}),Object(f.jsx)("div",{className:"side",children:Object(f.jsxs)("div",{className:"score",children:[Object(f.jsx)("div",{className:"score-title",children:"Score:"}),Object(f.jsx)("div",{className:"score-value",children:t.points})]})})]})})},A=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),r(e),i(e),c(e),a(e)}))};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(k,{})}),document.getElementById("root")),A()}},[[42,1,2]]]);
//# sourceMappingURL=main.c391bb84.chunk.js.map